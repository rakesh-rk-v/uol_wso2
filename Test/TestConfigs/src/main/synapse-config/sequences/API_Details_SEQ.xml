<?xml version="1.0" encoding="UTF-8"?>
<sequence name="API_Details_SEQ" onError="fault" trace="disable" xmlns="http://ws.apache.org/ns/synapse">
    <log level="custom">
        <property expression="$ctx:REST_URL_PREFIX" name="REST_URL_PREFIX"/>
        <property expression="$ctx:SYNAPSE_REST_API_VERSION" name="SYNAPSE_REST_API_VERSION"/>
        <property expression="$ctx:REST_METHOD" name="REST_METHOD"/>
        <property expression="$ctx:REST_SUB_REQUEST_PATH" name="REST_SUB_REQUEST_PATH"/>
        <property expression="$ctx:REST_FULL_REQUEST_PATH" name="REST_FULL_REQUEST_PATH"/>
        <property expression="$ctx:uri.var.symbol" name="uri.var.symbol"/>
        <property expression="$ctx:TRANSPORT_IN_NAME" name="TRANSPORT_IN_NAME"/>
        <property expression="$ctx:SYNAPSE_RESOURCE" name="SYNAPSE_RESOURCE"/>
        <property expression="$ctx:SYNAPSE_REST_API" name="SYNAPSE_REST_API"/>
    </log>
    <payloadFactory media-type="json" template-type="freemarker">
        <format><![CDATA[
      {
         "REST_URL_PREFIX":"${ctx.REST_URL_PREFIX}",
         "SYNAPSE_REST_API_VERSION":"${ctx.SYNAPSE_REST_API_VERSION}",
         "REST_METHOD":"${ctx.REST_METHOD}",
         "REST_SUB_REQUEST_PATH":"${ctx.REST_SUB_REQUEST_PATH}",
         "REST_FULL_REQUEST_PATH":"${ctx.REST_FULL_REQUEST_PATH}",
   
         "TRANSPORT_IN_NAME":"${ctx.TRANSPORT_IN_NAME}",
         "SYNAPSE_RESOURCE":"${ctx.SYNAPSE_RESOURCE}",
         "SYNAPSE_REST_API":"${ctx.SYNAPSE_REST_API}"
      }
   ]]></format>
        <args/>
    </payloadFactory>
</sequence>
